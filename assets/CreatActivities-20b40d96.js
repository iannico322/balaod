import{c as g,r as c,j as o,d as j,u as $,L as D,B as _,a as I}from"./index-de240f1e.js";import{F}from"./Footer-331a7107.js";import{S as q,T as H,C as W,a as U,u as J,b as V,B as X,L as K}from"./index-357ffa29.js";import{F as Z}from"./styles-a6dd9581.js";import{S}from"./sweetalert2.all-e72132c9.js";import"./BalaodWhiteOutFull@3x-b5c97ecf.js";const G=g("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]),Q=g("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]),Y=g("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]),ee=g("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]),te=g("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),ne=g("XSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function re(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function N(...e){return t=>e.forEach(n=>re(n,t))}function se(...e){return c.useCallback(N(...e),e)}function ie(e,t=[]){let n=[];function a(u,r){const i=c.createContext(r),l=n.length;n=[...n,r];function d(f){const{scope:h,children:b,...p}=f,y=(h==null?void 0:h[e][l])||i,m=c.useMemo(()=>p,Object.values(p));return o.jsx(y.Provider,{value:m,children:b})}function x(f,h){const b=(h==null?void 0:h[e][l])||i,p=c.useContext(b);if(p)return p;if(r!==void 0)return r;throw new Error(`\`${f}\` must be used within \`${u}\``)}return d.displayName=u+"Provider",[d,x]}const s=()=>{const u=n.map(r=>c.createContext(r));return function(i){const l=(i==null?void 0:i[e])||u;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return s.scopeName=e,[a,ae(s,...t)]}function ae(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(u){const r=a.reduce((i,{useScope:l,scopeName:d})=>{const f=l(u)[`__scope${d}`];return{...i,...f}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function A(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...n)=>{var a;return(a=t.current)==null?void 0:a.call(t,...n)},[])}function ce({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,s]=le({defaultProp:t,onChange:n}),u=e!==void 0,r=u?e:a,i=A(n),l=c.useCallback(d=>{if(u){const f=typeof d=="function"?d(e):d;f!==e&&i(f)}else s(d)},[u,e,s,i]);return[r,l]}function le({defaultProp:e,onChange:t}){const n=c.useState(e),[a]=n,s=c.useRef(a),u=A(t);return c.useEffect(()=>{s.current!==a&&(u(a),s.current=a)},[a,s,u]),n}function ue(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var de=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{};function fe(e){const[t,n]=c.useState(void 0);return de(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const u=s[0];let r,i;if("borderBoxSize"in u){const l=u.borderBoxSize,d=Array.isArray(l)?l[0]:l;r=d.inlineSize,i=d.blockSize}else r=e.offsetWidth,i=e.offsetHeight;n({width:r,height:i})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}var P=c.forwardRef((e,t)=>{const{children:n,...a}=e,s=c.Children.toArray(n),u=s.find(pe);if(u){const r=u.props.children,i=s.map(l=>l===u?c.Children.count(r)>1?c.Children.only(null):c.isValidElement(r)?r.props.children:null:l);return o.jsx(w,{...a,ref:t,children:c.isValidElement(r)?c.cloneElement(r,void 0,i):null})}return o.jsx(w,{...a,ref:t,children:n})});P.displayName="Slot";var w=c.forwardRef((e,t)=>{const{children:n,...a}=e;if(c.isValidElement(n)){const s=me(n);return c.cloneElement(n,{...xe(a,n.props),ref:t?N(t,s):s})}return c.Children.count(n)>1?c.Children.only(null):null});w.displayName="SlotClone";var he=({children:e})=>o.jsx(o.Fragment,{children:e});function pe(e){return c.isValidElement(e)&&e.type===he}function xe(e,t){const n={...t};for(const a in t){const s=e[a],u=t[a];/^on[A-Z]/.test(a)?s&&u?n[a]=(...i)=>{u(...i),s(...i)}:s&&(n[a]=s):a==="style"?n[a]={...s,...u}:a==="className"&&(n[a]=[s,u].filter(Boolean).join(" "))}return{...e,...n}}function me(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],E=ge.reduce((e,t)=>{const n=c.forwardRef((a,s)=>{const{asChild:u,...r}=a,i=u?P:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(i,{...r,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),C="Switch",[be,Le]=ie(C),[ye,ve]=be(C),R=c.forwardRef((e,t)=>{const{__scopeSwitch:n,name:a,checked:s,defaultChecked:u,required:r,disabled:i,value:l="on",onCheckedChange:d,...x}=e,[f,h]=c.useState(null),b=se(t,v=>h(v)),p=c.useRef(!1),y=f?!!f.closest("form"):!0,[m=!1,M]=ce({prop:s,defaultProp:u,onChange:d});return o.jsxs(ye,{scope:n,checked:m,disabled:i,children:[o.jsx(E.button,{type:"button",role:"switch","aria-checked":m,"aria-required":r,"data-state":T(m),"data-disabled":i?"":void 0,disabled:i,value:l,...x,ref:b,onClick:oe(e.onClick,v=>{M(O=>!O),y&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})}),y&&o.jsx(we,{control:f,bubbles:!p.current,name:a,value:l,checked:m,required:r,disabled:i,style:{transform:"translateX(-100%)"}})]})});R.displayName=C;var L="SwitchThumb",B=c.forwardRef((e,t)=>{const{__scopeSwitch:n,...a}=e,s=ve(L,n);return o.jsx(E.span,{"data-state":T(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});B.displayName=L;var we=e=>{const{control:t,checked:n,bubbles:a=!0,...s}=e,u=c.useRef(null),r=ue(n),i=fe(t);return c.useEffect(()=>{const l=u.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(r!==n&&f){const h=new Event("click",{bubbles:a});f.call(l,n),l.dispatchEvent(h)}},[r,n,a]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function T(e){return e?"checked":"unchecked"}var z=R,ke=B;const k=c.forwardRef(({className:e,...t},n)=>o.jsx(z,{className:j("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(ke,{className:j("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));k.displayName=z.displayName;const Ce=[q,H,W,U.configure({types:["heading","paragraph"]}),Z],je=({data:e,setData:t})=>{const[n,a]=c.useState(e),[s,u]=c.useState(!1);c.useEffect(()=>{a(e)},[e]);const r=J({extensions:Ce,content:n,onUpdate({editor:l}){const d=l.getHTML();t(x=>({...x,content:d}))}});if(!r)return null;const i=()=>{u(!s)};return o.jsxs("div",{className:"",children:[o.jsx(V,{editor:r,className:"tiptap w-full border border-border"}),o.jsxs(X,{editor:r,className:"bg-white gap-4 outline-none rounded shadow-lg p-2 mt-2 flex flex-wrap",children:[o.jsx("button",{onClick:()=>r.chain().focus().toggleBold().run(),className:`btn ${r.isActive("bold")?"font-bold":""}`,children:"B"}),o.jsx("button",{onClick:()=>r.chain().focus().toggleItalic().run(),className:`btn ${r.isActive("italic")?"font-bold":""}`,children:"I"}),o.jsx("button",{onClick:()=>r.chain().focus().unsetAllMarks().run(),className:"btn",children:o.jsx(te,{})}),o.jsx("button",{onClick:()=>r.chain().focus().clearNodes().run(),className:"btn",children:o.jsx(ne,{})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{onClick:()=>r.chain().focus().setColor("#ff8c00").run(),className:"btn w-5 h-5 rounded-md cursor-pointer bg-[#ff8c00]"}),o.jsx("div",{onClick:()=>r.chain().focus().setColor("#171719").run(),className:"btn w-5 h-5 rounded-md cursor-pointer bg-[#171719]"}),o.jsx("div",{onClick:()=>r.chain().focus().setColor("#5d193e").run(),className:"btn w-5 h-5 rounded-md cursor-pointer bg-[#5d193e]"})]}),o.jsx("button",{onClick:()=>r.chain().focus().setTextAlign("left").run(),className:`btn ${r.isActive("textAlign",{align:"left"})?"font-bold":""}`,children:o.jsx(Y,{})}),o.jsx("button",{onClick:()=>r.chain().focus().setTextAlign("center").run(),className:`btn ${r.isActive("textAlign",{align:"center"})?"font-bold":""}`,children:o.jsx(G,{})}),o.jsx("button",{onClick:()=>r.chain().focus().setTextAlign("right").run(),className:`btn ${r.isActive("textAlign",{align:"right"})?"font-bold":""}`,children:o.jsx(ee,{})}),o.jsx("button",{onClick:()=>r.chain().focus().setTextAlign("justify").run(),className:`btn ${r.isActive("textAlign",{align:"justify"})?"font-bold":""}`,children:o.jsx(Q,{})}),o.jsxs("div",{className:"relative inline-block text-left",children:[o.jsx("button",{type:"button",className:"btn",onClick:i,children:"Headings"}),s&&o.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-20 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:o.jsx("div",{className:"py-1 z-20",role:"none",children:[1,2,3,4,5,6].map((l,d)=>o.jsx("button",{onClick:()=>r.chain().focus().toggleHeading({level:l}).run(),className:`block px-4 py-2 text-sm text-left ${r.isActive("heading",{level:l})?"bg-gray-100 text-gray-900":"text-primary-foreground"}`,role:"menuitem",children:o.jsxs("p",{children:["H",l]})},d))})})]})]})]})},Be=()=>{const e=$();c.useState(!1);const[t,n]=c.useState(JSON.parse(localStorage.getItem("saveEdit")||"")),[a,s]=c.useState(null),u=i=>{const l=i.target.files[0];if(n({...t,photo:l}),l){const d=URL.createObjectURL(l);s(d)}};c.useEffect(()=>{localStorage.setItem("saveEdit",JSON.stringify(t))},[t]);function r(i){return!i.title||!i.content||!i.photo.name}return o.jsxs("div",{className:" min-h-0 w-full max-w-full  flex flex-col justify-center",children:[o.jsxs("div",{className:" relative w-full flex  justify-center items-center h-[60vh] bg-black overflow-hidden",children:[o.jsx("div",{className:" cursor-pointer z-20 absolute grid w-full max-w-xs items-center gap-1.5",children:o.jsx("input",{id:"picture",className:" cursor-pointer flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm text-gray-400 file:border-0 file:bg-transparent file:text-gray-600 file:text-sm file:font-medium",required:!0,placeholder:"Photo",type:"file",onChange:u})}),a&&o.jsx("img",{src:a,className:" relative w-full mt-5 text-xl mb-5 object-cover h-[60vh]",alt:""})]}),o.jsxs("div",{className:" mt-5 px-[10vw] md:px-5",children:[o.jsxs(D,{to:"/balaod/kudlit",className:" w-[90px] font-fmedium flex items-center justify-between px-2 py-2 bg-background text-black font-bold border border-gray-300 hover:bg-[#e4e4e4]",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})}),"Kudlit"]}),o.jsxs("div",{className:" flex justify-between border border-x-0 py-5 text-base font-fmedium mt-4 ",children:[o.jsxs("div",{className:" flex items-center gap-4",children:[o.jsx("input",{value:t.date,onChange:i=>{n({...t,date:i.target.value})},className:" text-right border border-border",type:"date"}),o.jsx(k,{checked:t.showDate,onCheckedChange:i=>{n({...t,showDate:i})}})]}),o.jsxs("div",{className:" flex items-center gap-4",children:[o.jsx("input",{value:t.location,onChange:i=>{n({...t,location:i.target.value})},placeholder:" Cagayan de Oro, 9000",type:"text",className:" w-[400px] text-right border border-border"}),o.jsx(K,{className:" h-4 w-4"}),o.jsx(k,{checked:t.showLocation,onCheckedChange:i=>{n({...t,showLocation:i})}})]})]}),o.jsxs("div",{className:" flex flex-col  mt-5 font-fmedium text-lg gap-5 mb-36",children:[o.jsx("div",{children:o.jsx("textarea",{value:t.title,onChange:i=>{n({...t,title:i.target.value})},required:!0,className:" w-full outline-none text-primary text-3xl font-fbold",placeholder:"Title e.g Community Engagement: Local Citizens Participate in Process "})}),o.jsx(je,{data:t.content,setData:n}),o.jsx(_,{className:" font-fbold",onClick:async i=>{if(i.preventDefault(),console.log(r(t)),r(t))S.fire({title:"Empty Field (Photo,title,content)!",text:"Some Fields are Empty please fill it up",icon:"error",showConfirmButton:!1,timer:2e3});else{const l=new FormData;l.append("title",t.title),l.append("content",t.content),l.append("photo",t.photo),l.append("location",t.location),l.append("date",t.date),l.append("showDate",t.showDate),l.append("showLocation",t.showLocation);try{await I.post("posting/activity/addActivity/",l,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"multipart/form-data"}}).then(d=>{S.fire({title:"Added!",text:"The new Activity has been Added",icon:"success",showConfirmButton:!1,timer:2e3}),n({title:"",content:"",highlight:!1,photo:null,location:"",date:null,showDate:!0,showLocation:!0}),localStorage.setItem("saveEdit",JSON.stringify({title:"",content:"",highlight:!1,photo:{},location:"",date:null,showDate:!0,showLocation:!0})),e("/balaod/editable/kudlit")})}catch(d){console.error("Error uploading partner data:",d)}}},children:"Publish Blog"})]})]}),o.jsx(F,{})]})};export{Be as default};
