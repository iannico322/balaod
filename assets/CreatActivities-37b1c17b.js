import{c as g,r as c,j as o,d as j,u as $,L as D,B as _,a as W}from"./index-82b3fce2.js";import{F}from"./Footer-ed0d961a.js";import{S as I,T as H,C as q,a as U,u as J,b as V,B as X,L as K}from"./index-0c911c32.js";import{F as Z}from"./styles-c0e898c6.js";import{S}from"./sweetalert2.all-f6a374b1.js";import{i as G}from"./browser-image-compression-a3ab6596.js";import"./BalaodWhiteOutFull@3x-b5c97ecf.js";const Q=g("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]),Y=g("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]),ee=g("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]),te=g("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]),ne=g("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),oe=g("XSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function se(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function N(...e){return t=>e.forEach(n=>se(n,t))}function ie(...e){return c.useCallback(N(...e),e)}function ae(e,t=[]){let n=[];function i(l,r){const u=c.createContext(r),a=n.length;n=[...n,r];function d(f){const{scope:p,children:b,...x}=f,y=(p==null?void 0:p[e][a])||u,m=c.useMemo(()=>x,Object.values(x));return o.jsx(y.Provider,{value:m,children:b})}function h(f,p){const b=(p==null?void 0:p[e][a])||u,x=c.useContext(b);if(x)return x;if(r!==void 0)return r;throw new Error(`\`${f}\` must be used within \`${l}\``)}return d.displayName=l+"Provider",[d,h]}const s=()=>{const l=n.map(r=>c.createContext(r));return function(u){const a=(u==null?void 0:u[e])||l;return c.useMemo(()=>({[`__scope${e}`]:{...u,[e]:a}}),[u,a])}};return s.scopeName=e,[i,ce(s,...t)]}function ce(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const r=i.reduce((u,{useScope:a,scopeName:d})=>{const f=a(l)[`__scope${d}`];return{...u,...f}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function A(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function le({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,s]=ue({defaultProp:t,onChange:n}),l=e!==void 0,r=l?e:i,u=A(n),a=c.useCallback(d=>{if(l){const f=typeof d=="function"?d(e):d;f!==e&&u(f)}else s(d)},[l,e,s,u]);return[r,a]}function ue({defaultProp:e,onChange:t}){const n=c.useState(e),[i]=n,s=c.useRef(i),l=A(t);return c.useEffect(()=>{s.current!==i&&(l(i),s.current=i)},[i,s,l]),n}function de(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fe=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{};function he(e){const[t,n]=c.useState(void 0);return fe(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const l=s[0];let r,u;if("borderBoxSize"in l){const a=l.borderBoxSize,d=Array.isArray(a)?a[0]:a;r=d.inlineSize,u=d.blockSize}else r=e.offsetWidth,u=e.offsetHeight;n({width:r,height:u})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var P=c.forwardRef((e,t)=>{const{children:n,...i}=e,s=c.Children.toArray(n),l=s.find(xe);if(l){const r=l.props.children,u=s.map(a=>a===l?c.Children.count(r)>1?c.Children.only(null):c.isValidElement(r)?r.props.children:null:a);return o.jsx(w,{...i,ref:t,children:c.isValidElement(r)?c.cloneElement(r,void 0,u):null})}return o.jsx(w,{...i,ref:t,children:n})});P.displayName="Slot";var w=c.forwardRef((e,t)=>{const{children:n,...i}=e;if(c.isValidElement(n)){const s=ge(n);return c.cloneElement(n,{...me(i,n.props),ref:t?N(t,s):s})}return c.Children.count(n)>1?c.Children.only(null):null});w.displayName="SlotClone";var pe=({children:e})=>o.jsx(o.Fragment,{children:e});function xe(e){return c.isValidElement(e)&&e.type===pe}function me(e,t){const n={...t};for(const i in t){const s=e[i],l=t[i];/^on[A-Z]/.test(i)?s&&l?n[i]=(...u)=>{l(...u),s(...u)}:s&&(n[i]=s):i==="style"?n[i]={...s,...l}:i==="className"&&(n[i]=[s,l].filter(Boolean).join(" "))}return{...e,...n}}function ge(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var be=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],E=be.reduce((e,t)=>{const n=c.forwardRef((i,s)=>{const{asChild:l,...r}=i,u=l?P:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(u,{...r,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),C="Switch",[ye,Te]=ae(C),[ve,we]=ye(C),R=c.forwardRef((e,t)=>{const{__scopeSwitch:n,name:i,checked:s,defaultChecked:l,required:r,disabled:u,value:a="on",onCheckedChange:d,...h}=e,[f,p]=c.useState(null),b=ie(t,v=>p(v)),x=c.useRef(!1),y=f?!!f.closest("form"):!0,[m=!1,M]=le({prop:s,defaultProp:l,onChange:d});return o.jsxs(ve,{scope:n,checked:m,disabled:u,children:[o.jsx(E.button,{type:"button",role:"switch","aria-checked":m,"aria-required":r,"data-state":T(m),"data-disabled":u?"":void 0,disabled:u,value:a,...h,ref:b,onClick:re(e.onClick,v=>{M(O=>!O),y&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),y&&o.jsx(ke,{control:f,bubbles:!x.current,name:i,value:a,checked:m,required:r,disabled:u,style:{transform:"translateX(-100%)"}})]})});R.displayName=C;var B="SwitchThumb",L=c.forwardRef((e,t)=>{const{__scopeSwitch:n,...i}=e,s=we(B,n);return o.jsx(E.span,{"data-state":T(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})});L.displayName=B;var ke=e=>{const{control:t,checked:n,bubbles:i=!0,...s}=e,l=c.useRef(null),r=de(n),u=he(t);return c.useEffect(()=>{const a=l.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(r!==n&&f){const p=new Event("click",{bubbles:i});f.call(a,n),a.dispatchEvent(p)}},[r,n,i]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function T(e){return e?"checked":"unchecked"}var z=R,Ce=L;const k=c.forwardRef(({className:e,...t},n)=>o.jsx(z,{className:j("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(Ce,{className:j("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));k.displayName=z.displayName;const je=[I,H,q,U.configure({types:["heading","paragraph"]}),Z],Se=({data:e,setData:t})=>{const[n,i]=c.useState(e),[s,l]=c.useState(!1);c.useEffect(()=>{i(e)},[e]);const r=J({extensions:je,content:n,onUpdate({editor:a}){const d=a.getHTML();t(h=>({...h,content:d}))}});if(!r)return null;const u=()=>{l(!s)};return o.jsxs("div",{className:"",children:[o.jsx(V,{editor:r,className:"tiptap w-full border border-border"}),o.jsxs(X,{editor:r,className:"bg-white gap-4 outline-none rounded shadow-lg p-2 mt-2 flex flex-wrap",children:[o.jsx("button",{onClick:()=>r.chain().focus().toggleBold().run(),className:`btn ${r.isActive("bold")?"font-bold":""}`,children:"B"}),o.jsx("button",{onClick:()=>r.chain().focus().toggleItalic().run(),className:`btn ${r.isActive("italic")?"font-bold":""}`,children:"I"}),o.jsx("button",{onClick:()=>r.chain().focus().unsetAllMarks().run(),className:"btn",children:o.jsx(ne,{})}),o.jsx("button",{onClick:()=>r.chain().focus().clearNodes().run(),className:"btn",children:o.jsx(oe,{})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{onClick:()=>r.chain().focus().setColor("#ff8c00").run(),className:"btn w-5 h-5 rounded-md cursor-pointer bg-[#ff8c00]"}),o.jsx("div",{onClick:()=>r.chain().focus().setColor("#171719").run(),className:"btn w-5 h-5 rounded-md cursor-pointer bg-[#171719]"}),o.jsx("div",{onClick:()=>r.chain().focus().setColor("#5d193e").run(),className:"btn w-5 h-5 rounded-md cursor-pointer bg-[#5d193e]"})]}),o.jsx("button",{onClick:()=>r.chain().focus().setTextAlign("left").run(),className:`btn ${r.isActive("textAlign",{align:"left"})?"font-bold":""}`,children:o.jsx(ee,{})}),o.jsx("button",{onClick:()=>r.chain().focus().setTextAlign("center").run(),className:`btn ${r.isActive("textAlign",{align:"center"})?"font-bold":""}`,children:o.jsx(Q,{})}),o.jsx("button",{onClick:()=>r.chain().focus().setTextAlign("right").run(),className:`btn ${r.isActive("textAlign",{align:"right"})?"font-bold":""}`,children:o.jsx(te,{})}),o.jsx("button",{onClick:()=>r.chain().focus().setTextAlign("justify").run(),className:`btn ${r.isActive("textAlign",{align:"justify"})?"font-bold":""}`,children:o.jsx(Y,{})}),o.jsxs("div",{className:"relative inline-block text-left",children:[o.jsx("button",{type:"button",className:"btn",onClick:u,children:"Headings"}),s&&o.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-20 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:o.jsx("div",{className:"py-1 z-20",role:"none",children:[1,2,3,4,5,6].map((a,d)=>o.jsx("button",{onClick:()=>r.chain().focus().toggleHeading({level:a}).run(),className:`block px-4 py-2 text-sm text-left ${r.isActive("heading",{level:a})?"bg-gray-100 text-gray-900":"text-primary-foreground"}`,role:"menuitem",children:o.jsxs("p",{children:["H",a]})},d))})})]})]})]})},ze=()=>{const e=$();c.useState(!1);const[t,n]=c.useState(JSON.parse(localStorage.getItem("saveEdit")||"")),[i,s]=c.useState(null),l=async a=>{const d=a.target.files[0];if(d){const h=URL.createObjectURL(d),f=await r(d);s(h),n({...t,photo:f})}},r=async a=>await G(a,{maxSizeMB:1,maxWidthOrHeight:2048,useWebWorker:!0,fileType:"image/webp"});c.useEffect(()=>{localStorage.setItem("saveEdit",JSON.stringify(t))},[t]);function u(a){return!a.title||!a.content||!a.photo.name}return o.jsxs("div",{className:" min-h-0 w-full max-w-full  flex flex-col justify-center",children:[o.jsxs("div",{className:" relative w-full flex  justify-center items-center h-[60vh] bg-black overflow-hidden",children:[o.jsx("div",{className:" cursor-pointer z-20 absolute grid w-full max-w-xs items-center gap-1.5",children:o.jsx("input",{id:"picture",className:" cursor-pointer flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm text-gray-400 file:border-0 file:bg-transparent file:text-gray-600 file:text-sm file:font-medium",required:!0,placeholder:"Photo",type:"file",onChange:l})}),i&&o.jsx("img",{src:i,className:" relative w-full mt-5 text-xl mb-5 object-cover h-[60vh]",alt:""})]}),o.jsxs("div",{className:" mt-5 px-[10vw] md:px-5",children:[o.jsxs(D,{to:"/balaod/kudlit",className:" w-[90px] font-fmedium flex items-center justify-between px-2 py-2 bg-background text-black font-bold border border-gray-300 hover:bg-[#e4e4e4]",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})}),"Kudlit"]}),o.jsxs("div",{className:" flex justify-between border border-x-0 py-5 text-base font-fmedium mt-4 ",children:[o.jsxs("div",{className:" flex items-center gap-4",children:[o.jsx("input",{value:t.date,onChange:a=>{n({...t,date:a.target.value})},className:" text-right border border-border",type:"date"}),o.jsx(k,{checked:t.showDate,onCheckedChange:a=>{n({...t,showDate:a})}})]}),o.jsxs("div",{className:" flex items-center gap-4",children:[o.jsx("input",{value:t.location,onChange:a=>{n({...t,location:a.target.value})},placeholder:" Cagayan de Oro, 9000",type:"text",className:" w-[400px] text-right border border-border"}),o.jsx(K,{className:" h-4 w-4"}),o.jsx(k,{checked:t.showLocation,onCheckedChange:a=>{n({...t,showLocation:a})}})]})]}),o.jsxs("div",{className:" flex flex-col  mt-5 font-fmedium text-lg gap-5 mb-36",children:[o.jsx("div",{children:o.jsx("textarea",{value:t.title,onChange:a=>{n({...t,title:a.target.value})},required:!0,className:" w-full outline-none text-primary text-3xl font-fbold",placeholder:"Title e.g Community Engagement: Local Citizens Participate in Process "})}),o.jsx(Se,{data:t.content,setData:n}),o.jsx(_,{className:" font-fbold",onClick:async a=>{if(a.preventDefault(),console.log(u(t)),u(t))S.fire({title:"Empty Field (Photo,title,content)!",text:"Some Fields are Empty please fill it up",icon:"error",showConfirmButton:!1,timer:2e3});else{const d=new FormData;d.append("title",t.title),d.append("content",t.content),d.append("photo",t.photo),d.append("location",t.location),d.append("date",t.date),d.append("showDate",t.showDate),d.append("showLocation",t.showLocation);try{await W.post("posting/activity/addActivity/",d,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"multipart/form-data"}}).then(h=>{S.fire({title:"Added!",text:"The new Activity has been Added",icon:"success",showConfirmButton:!1,timer:2e3}),n({title:"",content:"",highlight:!1,photo:null,location:"",date:null,showDate:!0,showLocation:!0}),localStorage.setItem("saveEdit",JSON.stringify({title:"",content:"",highlight:!1,photo:{},location:"",date:null,showDate:!0,showLocation:!0})),e("/balaod/editable/kudlit")})}catch(h){console.error("Error uploading partner data:",h)}}},children:"Publish Blog"})]})]}),o.jsx(F,{})]})};export{ze as default};
